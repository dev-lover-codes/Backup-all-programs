<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Pro Editor - Edit Mode</title>
    <link rel="stylesheet" href="styles/editor.css">
</head>

<body>
    <div class="editor-container">
        <!-- Top Toolbar - Title Bar Style -->
        <!-- Top Toolbar - Light Theme -->
        <div class="toolbar">
            <div class="toolbar-section toolbar-center">
                <!-- Text Tool -->
                <div class="tool-group">
                    <button class="tool-btn" id="textTool" title="Add Text (T)">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 7V4h16v3M9 20h6M12 4v16" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <span>Text</span>
                    </button>
                    <!-- Link Tool (Placeholder) -->
                    <button class="tool-btn" title="Links">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"
                                stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        <span>Links</span>
                    </button>
                    <!-- Forms Tool (Placeholder) -->
                    <button class="tool-btn" title="Forms">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <line x1="9" y1="12" x2="15" y2="12" />
                            <line x1="9" y1="16" x2="15" y2="16" />
                        </svg>
                        <span>Forms</span>
                    </button>
                    <!-- Images Tool -->
                    <button class="tool-btn" id="imageTool" title="Images">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <circle cx="8.5" cy="8.5" r="1.5" />
                            <polyline points="21 15 16 10 5 21" />
                        </svg>
                        <span>Images</span>
                    </button>
                    <!-- Sign Tool (Placeholder) -->
                    <button class="tool-btn" title="Sign">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 12l2-2 4 4-10 10H8v-4l8-8z" />
                            <path d="M3 21h18" />
                        </svg>
                        <span>Sign</span>
                    </button>
                    <!-- Whiteout Tool (Used as Highlight/Draw or Shape replacement contextually?) I'll map to Highlight for now or just generic -->
                    <button class="tool-btn" id="highlightTool" title="Whiteout/Highlight">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <defs>
                                <linearGradient id="gradientIcon" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#3b82f6" />
                                    <stop offset="100%" stop-color="#2563eb" />
                                </linearGradient>
                            </defs>
                            <path d="M9.6 20.2l-2.8-.9-2.9 2.9 8.5 8.5 2.9-2.9-.9-2.8M10.5 16.5l7.1-7.1 2.9 2.9-7.1 7.1"
                                stroke="gray" stroke-width="1" />
                            <path d="M5 20h14" stroke-linecap="round" />
                        </svg>
                        <span>Whiteout</span>
                    </button>
                    <!-- Annotate Tool (Draw) -->
                    <button class="tool-btn" id="drawTool" title="Annotate">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 19l7-7 3 3-7 7-3-3z" />
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z" />
                            <path d="M2 2l7.586 7.586" />
                            <circle cx="11" cy="11" r="2" />
                        </svg>
                        <span>Annotate</span>
                    </button>
                    <!-- Shapes Tool -->
                    <button class="tool-btn" id="shapeTool" title="Shapes">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <rect x="8" y="8" width="8" height="8" />
                        </svg>
                        <span>Shapes</span>
                    </button>
                    <!-- Undo -->
                    <button class="tool-btn" id="undoBtn" title="Undo">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 7v6h6" />
                            <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13" />
                        </svg>
                        <span>Undo</span>
                    </button>
                </div>
            </div>

            <div class="toolbar-section toolbar-right">
                <button class="btn-primary" id="downloadBtn">Save</button>
            </div>
        </div>

        <!-- No side panel button unless needed -->
        <div class="side-panel" id="sidePanel">
            <div class="panel-header">
                <h3>Page Properties</h3>
                <button class="close-panel" id="closePanel">Ã—</button>
            </div>
            <!-- Rest is dynamic -->
            <div class="panel-content">
                <!-- We will re-use existing property sections -->
                <!-- Text Properties -->
                <div class="property-section" id="textProperties" style="display: none;">
                    <h4>Text Formatting</h4>
                    <div class="property-group">
                        <label>Font Family</label>
                        <select id="fontFamily" class="input-select">
                            <option value="Helvetica">Helvetica</option>
                            <option value="Times-Roman">Times New Roman</option>
                            <option value="Courier">Courier</option>
                            <option value="Arial">Arial</option>
                        </select>
                    </div>
                    <div class="property-group">
                        <label>Font Size</label>
                        <input type="number" id="fontSize" class="input-number" value="12" min="8" max="72">
                    </div>
                    <div class="property-group">
                        <label>Color</label>
                        <input type="color" id="textColor" class="input-color" value="#000000">
                    </div>
                </div>

                <!-- Highlighting (Whiteout placeholder props actually used for Highlight) -->
                <div class="property-section" id="highlightProperties" style="display: none;">
                    <h4>Highlight Settings</h4>
                    <div class="property-group">
                        <label>Color</label>
                        <input type="color" id="highlightColor" class="input-color" value="#fef08a">
                    </div>
                    <div class="property-group">
                        <label>Opacity</label>
                        <input type="range" id="highlightOpacity" class="input-range" min="0" max="100" value="40">
                        <span class="value-display" id="opacityValue">40%</span>
                    </div>
                </div>

                <!-- Shape Properties -->
                <div class="property-section" id="shapeProperties" style="display: none;">
                    <h4>Shape Settings</h4>
                    <div class="property-group">
                        <label>Shape Type</label>
                        <select id="shapeType" class="input-select">
                            <option value="rectangle">Rectangle</option>
                            <option value="circle">Circle</option>
                            <option value="line">Line</option>
                        </select>
                    </div>
                    <div class="property-group">
                        <label>Stroke Color</label>
                        <input type="color" id="strokeColor" class="input-color" value="#000000">
                    </div>
                    <div class="property-group">
                        <label>Fill Color</label>
                        <input type="color" id="fillColor" class="input-color" value="#ffffff">
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Canvas Area -->
        <div class="canvas-area">
            <div class="page-thumbnails" id="pageThumbnails">
                <div class="thumbnails-header">
                    <h4>Pages</h4>
                </div>
                <div class="thumbnails-list" id="thumbnailsList">
                    <!-- Thumbnails will be inserted here -->
                </div>
            </div>

            <div class="canvas-wrapper" id="canvasWrapper">
                <!-- Pages will be inserted here dynamically -->
            </div>
        </div>

        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="spinner"></div>
            <p>Loading PDF...</p>
        </div>
    </div>

    <!-- PDF.js Library -->
    <script src="lib/pdf.min.js"></script>
    <script src="lib/pdf-lib.min.js"></script>
    <script src="scripts/pdf-advanced.js"></script>
    <script src="scripts/editor.js"></script>
</body>

</html>